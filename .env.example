# Financial Data API Configuration
# Copy this file to .env and add your actual API keys

# Alpha Vantage API (required for stock data)
# Get your free API key at: https://www.alphavantage.co/support/#api-key
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_api_key_here

# PostgreSQL Database Configuration
# For local development, you can use these defaults:
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=local_db
POSTGRES_USER=dbuser123
POSTGRES_PASSWORD=password123

# Or use a full DATABASE_URL (takes precedence over individual settings)
DATABASE_URL=postgresql://dbuser123:password123@localhost:5432/local_db

# Airflow Configuration
# Project-local Airflow setup (keeps everything in project directory)
AIRFLOW_HOME=${PWD}/airflow
# Variable: AIRFLOW__CORE__DAGS_FOLDER
AIRFLOW__CORE__DAGS_FOLDER=${PWD}/dags
AIRFLOW__CORE__LOAD_EXAMPLES=False

# Airflow Database Configuration (SQLite)
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=sqlite:///${PWD}/airflow/airflow.db

# Simple Auth Manager Configuration (Airflow 3.0+ default)
# Format: username:role,username:role
AIRFLOW__CORE__SIMPLE_AUTH_MANAGER_USERS=admin1:admin,viewer1:viewer
AIRFLOW__CORE__SIMPLE_AUTH_MANAGER_PASSWORDS_FILE=${PWD}/airflow/simple_auth_manager_passwords.json

# Legacy admin user variables (for reference/migration)
AIRFLOW_ADMIN_USERNAME=admin1
AIRFLOW_ADMIN_PASSWORD=test123
AIRFLOW_ADMIN_EMAIL=admin1@test.local
AIRFLOW_ADMIN_FIRSTNAME=Admin
AIRFLOW_ADMIN_LASTNAME=User

# Airflow API Authentication (Airflow 3.0+)
# Change this secret key for production deployments
AIRFLOW__API_AUTH__JWT_SECRET=your-secure-jwt-secret-key-change-for-production

# API Configuration
API_TIMEOUT=30
MAX_RETRIES=3
RATE_LIMIT_DELAY=1.0

# Airflow PostgreSQL Connection
# This is used by Airflow to connect to your PostgreSQL database
AIRFLOW_CONN_POSTGRES_DEFAULT=postgresql://dbuser123:password123@localhost:5432/local_db

# FastAPI Settings
DEBUG=false
CORS_ORIGINS=*
LOG_LEVEL=INFO
